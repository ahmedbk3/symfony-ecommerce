{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block hero %}
  <div class="hero-section text-white d-flex align-items-center justify-content-center text-center"
       style="background-image: url('{{ asset('uploads/images/hero-bg.jpg') }}');
              height: 80vh;
              width: 100vw;
              background-attachment: fixed;
              background-size: cover;
              background-position: center;">
        <div class="bg-dark bg-opacity-50 p-5 rounded">
            {% if app.user %}
                <h1 class="display-4 mb-3">Welcome back, <span class="text-warning">{{ app.user.firstname ?? app.user.email }}</span>!</h1>
                <a href="{{ path('app_profile') }}" class="btn btn-warning me-2">Go to Profile</a>
                {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('admin_dashboard') }}" class="btn btn-outline-light">Admin Dashboard</a>
                {% endif %}
            {% else %}
                <h1 class="display-4 mb-3">Welcome to <span class="text-warning">TUNE IN</span></h1>
                <p class="lead">Your ultimate destination for music, merch, and more.</p>
                <a href="{{ path('app_login') }}" class="btn btn-warning me-2">Login</a>
                <a href="{{ path('app_register') }}" class="btn btn-outline-light">Register</a>
            {% endif %}
        </div>
    </div>
{% endblock %}


{% block body %}
    <!-- Info Blocks -->
    <div class="container py-5">
        <div class="row text-center">
            <div class="col-md-4">
                <i class="bi bi-headphones fs-1 text-primary"></i>
                <h4 class="mt-3">High-Quality Audio</h4>
                <p>Experience the best sound quality with our premium equipment and streaming services.</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-bag-heart fs-1 text-success"></i>
                <h4 class="mt-3">Exclusive Merch</h4>
                <p>Shop unique music-themed products and limited edition items from your favorite artists.</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-people fs-1 text-danger"></i>
                <h4 class="mt-3">Community & Events</h4>
                <p>Join our community, attend virtual events, and share your passion for music with others.</p>
            </div>
        </div>
    </div>

    <!-- Featured Products Section -->
    <section class="bg-light py-5">
        <div class="container text-center">
            <h2 class="mb-4">Featured Products</h2>
            <p class="mb-5">Explore our latest collection of exclusive items.</p>
            <div class="row justify-content-center">
                {% for product in featuredProducts %}
                    <div class="col-md-3 mb-4">
                        <div class="card shadow-sm">
                            <img src="{{ asset('uploads/images/' ~ product.image) }}" class="card-img-top" alt="{{ product.name }}">
                            <div class="card-body">
                                <h5 class="card-title">{{ product.name }}</h5>
                                <p class="card-text">{{ product.description }}</p>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <p>No featured products available right now.</p>
                {% endfor %}
            </div>
            <a href="{{ path('shop_products') }}" class="btn btn-primary mt-3">Browse All Products</a>
        </div>
    </section>

{% endblock %}
